(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b149ca0"],{"4a6a":function(t,e,s){"use strict";var i=s("bde3"),a=s.n(i);a.a},bde3:function(t,e,s){},f9b0:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"message-header"},[s("div",[s("span",[t._v("通知签名："+t._s(t.message.sign?t.message.sign:"/"))]),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.editSign}},[t._v("修改签名")])],1),s("div",[s("span",[t._v("短信通知："+t._s(t.message.amount)+" 条可用")]),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.toBuy}},[t._v("购买短信")])],1)]),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"message-content"},[s("div",{staticClass:"message-content-header"},[t._v("顾客通知")]),t._l(t.customer_templates,(function(e,i){return s("div",{key:i,staticStyle:{"margin-bottom":"20px"}},[s("div",{staticClass:"message-content__title"},[t._v(t._s(e[0].type))]),t._m(0,!0),t._l(e,(function(e,i){return s("div",{key:"i"+i,staticClass:"message-content__item"},[s("div",{staticStyle:{width:"140px"}},[t._v(t._s(e.title))]),s("div",{staticStyle:{width:"calc(100% - 350px)"}},[t._v(t._s(e.desc))]),s("div",{staticStyle:{width:"40px"}},[t._v(t._s(e.status))]),s("div",{staticStyle:{width:"170px"}},["启用"===e.status?s("el-button",{attrs:{type:"danger",size:"mini"}},[t._v("停用")]):t._e(),"停用"===e.status?s("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("启用")]):t._e(),s("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("查看通知模版")])],1)])}))],2)}))],2),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"message-content"},[s("div",{staticClass:"message-content-header"},[t._v("管理员通知")]),t._l(t.admin_templates,(function(e,i){return s("div",{key:i,staticStyle:{"margin-bottom":"20px"}},[s("div",{staticClass:"message-content__title"},[t._v(t._s(e[0].type))]),t._m(1,!0),t._l(e,(function(e,i){return s("div",{key:"i"+i,staticClass:"message-content__item"},[s("div",{staticStyle:{width:"140px"}},[t._v(t._s(e.title))]),s("div",{staticStyle:{width:"calc(100% - 350px)"}},[t._v(t._s(e.desc))]),s("div",{staticStyle:{width:"40px"}},[t._v(t._s(e.status))]),s("div",{staticStyle:{width:"170px"}},["启用"===e.status?s("el-button",{attrs:{type:"danger",size:"mini"}},[t._v("停用")]):t._e(),"停用"===e.status?s("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("启用")]):t._e(),s("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("查看通知模版")])],1)])}))],2)}))],2),s("el-dialog",{attrs:{visible:t.buyVisible,title:"购买短信",width:"800px","before-close":t.closeBuy}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.payLoading,expression:"payLoading"}]},[s("div",{staticClass:"buy-item"},[s("div",{staticStyle:{width:"70px"}},[t._v("购买数量")]),s("div",[s("el-radio-group",{attrs:{size:"small"},model:{value:t.message_type,callback:function(e){t.message_type=e},expression:"message_type"}},t._l(t.message_types,(function(e,i){return s("el-radio-button",{key:i,attrs:{label:e}},[t._v(t._s(e.title))])})),1)],1)]),s("div",{staticClass:"buy-item"},[s("div",{staticStyle:{width:"70px"}},[t._v("支付方式")]),s("div",[s("el-radio-group",{attrs:{size:"small"},model:{value:t.current_payment,callback:function(e){t.current_payment=e},expression:"current_payment"}},t._l(t.payments,(function(e,i){return s("el-radio-button",{key:i,attrs:{label:e.method_code}},[t._v(t._s(e.method_title))])})),1)],1)]),s("div",{staticClass:"buy-price"},[s("div",[t._v("共购买"),s("strong",[t._v(" "+t._s(t.message_type.amount)+" ")]),t._v("条短信")]),s("div",{staticStyle:{"margin-top":"5px"}},[t._v("应付金额 "),s("span",[t._v("¥"),s("strong",[t._v(" "+t._s(t.message_type.price)+" ")])])])]),s("div",{staticClass:"buy-footer"},[s("el-button",{attrs:{size:"small"},on:{click:t.closeBuy}},[t._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"}},[t._v("确定")])],1)])]),s("el-dialog",{attrs:{visible:t.signVisible,title:"设置签名"}},[s("div",{staticStyle:{"margin-bottom":"20px"}},[t._v("短信签名需提交到短信运营商审核，预计1-2个工作日，签名只允许3-8个字符，且必须包含汉字，不允许特殊字符")]),s("el-input",{staticClass:"el-form-item",class:{"is-error":t.error},on:{blur:t.testSign,focus:t.restartTest},model:{value:t.sign,callback:function(e){t.sign=e},expression:"sign"}}),s("div",{staticClass:"error-tip"},[t._v(t._s(t.error))]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:t.closeSign}},[t._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"}},[t._v("确定")])],1)],1)],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message-content__header"},[s("div",{staticStyle:{width:"140px"}},[t._v("模版名称")]),s("div",{staticStyle:{width:"calc(100% - 350px)"}},[t._v("描述")]),s("div",{staticStyle:{width:"40px"}},[t._v("状态")]),s("div",{staticStyle:{width:"170px"}},[t._v("操作")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message-content__header"},[s("div",{staticStyle:{width:"140px"}},[t._v("模版名称")]),s("div",{staticStyle:{width:"calc(100% - 350px)"}},[t._v("描述")]),s("div",{staticStyle:{width:"40px"}},[t._v("状态")]),s("div",{staticStyle:{width:"170px"}},[t._v("操作")])])}],n=(s("4de4"),s("825f")),r={data:function(){return{loading:!1,customer_templates:[],admin_templates:[],message:{amount:0,sign:""},buyVisible:!1,payLoading:!1,message_type:{},message_types:[],payments:[],current_payment:"",signVisible:!1,sign:"",error:""}},created:function(){this.getTemplate()},methods:{getTemplate:function(){var t=this;this.loading=!0,setTimeout((function(){var e=[{title:"验证顾客注册手机号",receiver:"customer",type:"登录与注册",desc:"发送注册验证码至顾客手机",status:"启用",template:{}},{title:"顾客密码重置验证",receiver:"customer",type:"登录与注册",desc:"顾客忘记密码，发送密码重置验证码至顾客手机",status:"启用",template:{}},{title:"订单生成通知",receiver:"customer",type:"订单通知",desc:"订单提交后，提醒顾客支付订单",status:"启用",template:{}},{title:"订单生效",receiver:"customer",type:"订单通知",desc:"订单付款完成后，通知顾客",status:"启用",template:{}},{title:"订单取消",receiver:"customer",type:"订单通知",desc:"订单被顾客主动取消或被网站管理员取消时，通知顾客",status:"启用",template:{}},{title:"订单发货提醒",receiver:"customer",type:"订单通知",desc:"订单发货时，通知顾客",status:"启用",template:{}},{title:"退单申请结果",receiver:"customer",type:"订单通知",desc:"退单申请经过管理员审核后，通知顾客退单是否通过",status:"启用",template:{}},{title:"订单退款提醒",receiver:"customer",type:"订单通知",desc:"订单退款成功后，通知顾客",status:"启用",template:{}},{title:"促销活动通知",receiver:"customer",type:"活动通知",desc:"促销活动通知提醒开始时，通知顾客",status:"启用",template:{}},{title:"新订单",receiver:"admin",type:"订单通知",desc:"当网站有新订单时，通知管理员",status:"启用",template:{}},{title:"订单付款通知",receiver:"admin",type:"订单通知",desc:"新订单付款成功后，通知管理员",status:"启用",template:{}},{title:"订单关闭通知",receiver:"admin",type:"订单通知",desc:"订单被顾客关闭时，通知管理员",status:"启用",template:{}},{title:"订单成功通知",receiver:"admin",type:"订单通知",desc:"顾客确认收货时，通知管理员",status:"启用",template:{}},{title:"退单通知",receiver:"admin",type:"订单通知",desc:"顾客申请退单退款时，通知管理员",status:"启用",template:{}},{title:"库存警报",receiver:"admin",type:"商品通知",desc:"设置库存警告的商品达到库存最低值时，通知管理员",status:"启用",template:{}}],s=e.filter((function(t){return"customer"===t.receiver&&"登录与注册"===t.type})),i=e.filter((function(t){return"customer"===t.receiver&&"订单通知"===t.type})),a=e.filter((function(t){return"customer"===t.receiver&&"活动通知"===t.type}));t.customer_templates.push(s),t.customer_templates.push(i),t.customer_templates.push(a);var n=e.filter((function(t){return"admin"===t.receiver&&"订单通知"===t.type})),r=e.filter((function(t){return"admin"===t.receiver&&"商品通知"===t.type}));t.admin_templates.push(n),t.admin_templates.push(r),t.loading=!1}),1e3)},toBuy:function(){var t=this;this.buyVisible=!0,this.payLoading=!0,setTimeout((function(){t.message_types=[{title:"100条",amount:100,price:9},{title:"500条",amount:500,price:45},{title:"1000条",amount:1e3,price:90},{title:"2000条",amount:2e3,price:180},{title:"5000条",amount:5e3,price:450},{title:"10000条",amount:1e4,price:900}],t.message_type=t.message_types[0],Object(n["c"])().then((function(e){t.payments=e.data.body,t.current_payment=t.payments[0].method_code,t.payLoading=!1})).catch((function(){t.payLoading=!1}))}),1e3)},closeBuy:function(){this.buyVisible=!1},editSign:function(){this.signVisible=!0,this.sign=this.message.sign},testSign:function(){var t=/^.{2,7}$/,e=/^[\u4E00-\u9FA5A-Za-z0-9]+$/;t.test(this.sign)?e.test(this.sign)||(this.error="签名只能包含汉字、数字和英文字符，不允许特殊字符"):this.error="签名必须在3-8个字符"},restartTest:function(){this.error=""},closeSign:function(){this.error="",this.sign="",this.signVisible=!1}}},l=r,c=(s("4a6a"),s("2877")),o=Object(c["a"])(l,i,a,!1,null,"2d5564a0",null);e["default"]=o.exports}}]);