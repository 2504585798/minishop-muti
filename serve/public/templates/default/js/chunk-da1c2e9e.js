(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-da1c2e9e"],{"21cc":function(s,e,t){},"27d3":function(s,e,t){"use strict";var o=t("21cc"),a=t.n(o);a.a},"4eb4":function(s,e,t){"use strict";t.r(e);var o=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"login-background"},[t("div",{staticClass:"login-form"},[t("shop-image",{staticClass:"login-form-avatar",attrs:{width:80,circled:""}},[t("div",{attrs:{slot:"placeholder"},slot:"placeholder"},[t("shop-icon",{staticStyle:{"background-color":"#fff"},attrs:{name:"iconzhucetouxiang"}})],1),t("div",{attrs:{slot:"error"},slot:"error"},[t("shop-icon",{staticStyle:{"background-color":"#fff"},attrs:{name:"iconzhucetouxiang"}})],1)]),"email"===s.regType?t("shop-input",{ref:"email",staticClass:"login-form-input",attrs:{validate:"",rules:s.rules.email},model:{value:s.user.email,callback:function(e){s.$set(s.user,"email",e)},expression:"user.email"}},[t("span",{staticClass:"login-prepend",attrs:{slot:"prepend"},slot:"prepend"},[s._v("邮箱")])]):s._e(),"mobile"===s.regType?t("shop-input",{ref:"mobile",staticClass:"login-form-input",attrs:{validate:"",rules:s.rules.mobile},model:{value:s.user.mobile,callback:function(e){s.$set(s.user,"mobile",e)},expression:"user.mobile"}},[t("span",{staticClass:"login-prepend",attrs:{slot:"prepend"},slot:"prepend"},[s._v("手机号")])]):s._e(),t("shop-input",{ref:"password",staticClass:"login-form-input",attrs:{type:s.passType,validate:"",rules:s.rules.password},model:{value:s.user.password,callback:function(e){s.$set(s.user,"password",e)},expression:"user.password"}},[t("span",{staticClass:"login-prepend",attrs:{slot:"prepend"},slot:"prepend"},[s._v("密码")]),t("span",{attrs:{slot:"append"},on:{click:function(e){s.passType="text"}},slot:"append"},["password"===s.passType?t("shop-icon",{attrs:{name:"yanjing-bi",size:"mini"}}):s._e()],1),t("span",{attrs:{slot:"append"},on:{click:function(e){s.passType="password"}},slot:"append"},["text"===s.passType?t("shop-icon",{attrs:{name:"yanjing",size:"mini"}}):s._e()],1)]),t("shop-button",{staticClass:"login-form-button",class:{"is-loading":s.btnLoading},on:{click:s.confirmLogin}},[s._v("注 册")]),t("div",{staticClass:"login-form-bottom"},[t("div",[s._v("已有账号？"),t("div",{staticClass:"bottom-btn",on:{click:s.toLogin}},[s._v("登录")])])])],1)])},a=[],i=t("76a0"),n=t("7ded"),r={data:function(){return{regType:"mobile",user:{email:"",mobile:"",password:""},passType:"password",rules:{email:[{required:!0,message:"请输入邮箱"}],mobile:[{required:!0,message:"请输入手机号"}],password:[{required:!0,message:"请输入密码"},{min:6,message:"密码至少为6位"}]},btnLoading:!1}},methods:{changeType:function(s,e){this.$refs[s].clearValidate(),this.regType=e},toLogin:function(){this.$router.push({name:"Login"})},toForget:function(){this.$router.push({name:"Forget"})},confirmLogin:function(){var s=this;this.btnLoading||this.$refs.mobile.validation((function(e){e&&s.$refs.password.validation((function(e){if(e){s.btnLoading=!0;var t={mobile:s.user.mobile,password:s.user.password,password_confirmation:s.user.password};Object(n["d"])(t).then((function(){Object(i["Toast"])({message:"注册成功，正在跳转登录中...",duration:2e3}),s.$store.dispatch("login",{mobile:s.user.mobile,password:s.user.password}).then((function(){"Login"===s.$route.query.from||void 0===s.$route.query.from?s.$router.push({name:"UserHome"}):s.$router.push({name:s.$route.query.from})})),setTimeout((function(){s.$refs.mobile.clearValidate(),s.$refs.password.clearValidate(),s.btnLoading=!1}),2e3)})).catch((function(e){Object(i["Toast"])({message:e.response.data.message,duration:2e3}),s.btnLoading=!1}))}}))}))}}},l=r,p=(t("27d3"),t("2877")),c=Object(p["a"])(l,o,a,!1,null,"4559b762",null);e["default"]=c.exports}}]);