(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-105da4b7"],{"4eb4":function(i,e,t){"use strict";t.r(e);var a=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",{staticClass:"web-container"},[t("div",{staticClass:"web-header"},[i._v(i._s(i.$store.getters.webTitle))]),t("transition",{attrs:{name:"login"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:i.loginShow,expression:"loginShow"}],staticClass:"login-form"},[t("div",{staticClass:"login-header"},[i._v("注册")]),t("el-form",{ref:"login",attrs:{model:i.loginData,rules:i.loginRules,"label-width":"80px"}},["mobile"===i.active?t("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[t("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:i.loginData.mobile,callback:function(e){i.$set(i.loginData,"mobile",e)},expression:"loginData.mobile"}})],1):i._e(),"email"===i.active?t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:i.loginData.email,callback:function(e){i.$set(i.loginData,"email",e)},expression:"loginData.email"}})],1):i._e(),t("el-form-item",{attrs:{label:"验证码",prop:"verification_code"}},[t("el-input",{model:{value:i.loginData.verification_code,callback:function(e){i.$set(i.loginData,"verification_code",e)},expression:"loginData.verification_code"}},[t("div",{class:{"is-disabled":i.verify_disabled},staticStyle:{cursor:"pointer",width:"80px","text-align":"center"},attrs:{slot:"append"},on:{click:i.getVerify},slot:"append"},[i._v(i._s(i.verify_tip))])])],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:i.passType,placeholder:"请输入登录密码"},model:{value:i.loginData.password,callback:function(e){i.$set(i.loginData,"password",e)},expression:"loginData.password"}},[t("span",{attrs:{slot:"suffix"},slot:"suffix"},[t("i",{staticClass:"iconfont",class:"password"===i.passType?"iconyanjing-bi":"iconyanjing",staticStyle:{"font-size":"18px",cursor:"pointer","margin-right":"10px"},on:{click:function(e){i.passType="password"===i.passType?"text":"password"}}})])])],1)],1),t("div",{staticClass:"login-button"},[t("el-button",{attrs:{type:"primary",loading:i.btnLoading},on:{click:i.register}},[i._v("注册")])],1),t("div",[i._v("已有账号？"),t("el-button",{attrs:{type:"text"},on:{click:function(e){return i.$router.push({name:"Login"})}}},[i._v("直接登录吧")])],1)],1)])],1)},s=[],o=t("7ded"),n={data:function(){return{loginShow:!1,loginData:{mobile:"",password:"",verification_code:""},loginRules:{mobile:[{required:!0,message:"请输入有效手机号",trigger:"blur"}],email:[{required:!0,message:"请输入有效邮箱",trigger:"blur"}],password:[{required:!0,message:"请设置密码",trigger:"blur"},{min:6,message:"密码至少为6位",trigger:"blur"}],verification_code:[{required:!0,message:"请输入验证码",trigger:"blur"},{len:4,message:"验证码为4位",trigger:"blur"}]},active:"mobile",passType:"password",btnLoading:!1,verify_tip:"获取验证码",time:30,verify_disabled:!1}},created:function(){var i=this;setTimeout((function(){i.loginShow=!0}),100)},methods:{changeActive:function(i){this.active=i,this.$refs.login.clearValidate()},register:function(){var i=this;this.$refs.login.validate((function(e){e&&i.confirm()}))},confirm:function(){var i=this;this.btnLoading=!0;var e={mobile:this.loginData.mobile,password:this.loginData.password,password_confirmation:this.loginData.password,verification_code:this.loginData.verification_code};Object(o["g"])(e).then((function(){i.$message.success({message:"注册成功，正在自动登录中",duration:1e3}),i.$store.dispatch("login",i.loginData).then((function(){setTimeout((function(){i.$router.push({name:"Shops"}),i.btnLoading=!1}),1e3)}))})).catch((function(){i.btnLoading=!1}))},getVerify:function(){var i=this;this.verify_disabled||(this.loginData.mobile?(this.verify_tip=this.time+"s后重试",this.verify_disabled=!0,this.timeOut(),Object(o["d"])({mobile:this.loginData.mobile}).then((function(){i.$message.success("验证码已发送至上述手机号，请及时查看")}))):this.$message.warning("请先填写手机号码"))},timeOut:function(){var i=this;if(0===this.time)return this.verify_tip="获取验证码",this.time=30,void(this.verify_disabled=!1);setTimeout((function(){i.time--,i.verify_tip=i.time+"s后重试",i.timeOut()}),1e3)}}},r=n,l=(t("74ca"),t("2877")),c=Object(l["a"])(r,a,s,!1,null,"1ce7513f",null);e["default"]=c.exports},"74ca":function(i,e,t){"use strict";var a=t("975c"),s=t.n(a);s.a},"975c":function(i,e,t){}}]);