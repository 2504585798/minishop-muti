(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ca9b443"],{"24e1":function(e,t,a){"use strict";var i=a("dcd0"),s=a.n(i);s.a},"4eb4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"web-container"},[a("div",{staticClass:"web-header"},[e._v(e._s(e.$store.getters.webTitle))]),a("transition",{attrs:{name:"login"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.loginShow,expression:"loginShow"}],staticClass:"login-form"},[a("div",{staticClass:"login-header"},[e._v("注册")]),a("el-form",{ref:"login",attrs:{model:e.loginData,rules:e.loginRules,"label-width":"80px"}},["mobile"===e.active?a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.loginData.mobile,callback:function(t){e.$set(e.loginData,"mobile",t)},expression:"loginData.mobile"}})],1):e._e(),"email"===e.active?a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.loginData.email,callback:function(t){e.$set(e.loginData,"email",t)},expression:"loginData.email"}})],1):e._e(),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:e.passType,placeholder:"请输入登录密码"},model:{value:e.loginData.password,callback:function(t){e.$set(e.loginData,"password",t)},expression:"loginData.password"}},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[a("i",{staticClass:"iconfont",class:"password"===e.passType?"iconyanjing-bi":"iconyanjing",staticStyle:{"font-size":"18px",cursor:"pointer","margin-right":"10px"},on:{click:function(t){e.passType="password"===e.passType?"text":"password"}}})])])],1)],1),a("div",{staticClass:"login-button"},[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.register}},[e._v("注册")])],1),a("div",[e._v("已有账号？"),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.$router.push({name:"Login"})}}},[e._v("直接登录吧")])],1)],1)])],1)},s=[],o=a("7ded"),n={data:function(){return{loginShow:!1,loginData:{mobile:"",password:""},loginRules:{mobile:[{required:!0,message:"请输入有效手机号",trigger:"blur"}],email:[{required:!0,message:"请输入有效邮箱",trigger:"blur"}],password:[{required:!0,message:"请设置密码",trigger:"blur"},{min:6,message:"密码至少为6位",trigger:"blur"}]},active:"mobile",passType:"password",btnLoading:!1}},created:function(){var e=this;setTimeout((function(){e.loginShow=!0}),100)},methods:{changeActive:function(e){this.active=e,this.$refs.login.clearValidate()},register:function(){var e=this;this.$refs.login.validate((function(t){t&&e.confirm()}))},confirm:function(){var e=this;this.btnLoading=!0;var t={mobile:this.loginData.mobile,password:this.loginData.password,password_confirmation:this.loginData.password};Object(o["e"])(t).then((function(){e.$message.success({message:"注册成功，正在自动登录中",duration:1e3}),e.$store.dispatch("login",e.loginData).then((function(){setTimeout((function(){e.$router.push({name:"Shops"}),e.btnLoading=!1}),1e3)}))})).catch((function(t){e.$message.error({message:t.response.data.message,duration:1e3}),e.btnLoading=!1}))}}},r=n,l=(a("24e1"),a("2877")),c=Object(l["a"])(r,i,s,!1,null,"ce57c73c",null);t["default"]=c.exports},dcd0:function(e,t,a){}}]);